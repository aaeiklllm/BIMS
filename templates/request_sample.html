{% extends "base.html" %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Sample - Step 1</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }
        .container {
            width: 60%;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
        }
        .option {
            margin-top: 20px;
        }
        .projects-container {
            margin-left: 30px;
        }
        .projects-container label {
            display: block;
        }
        .project-details, .new-project {
            display: none;
            margin-left: 40px;
            margin-top: 10px;
            border: 1px solid #ccc;
            padding: 15px;
            background-color: #f9f9f9;
        }
        .project-details p {
            margin: 5px 0;
        }
        .underline-link {
            color: blue;
            text-decoration: underline;
            cursor: pointer;
        }
        .form-group {
            margin-bottom: 10px;
        }
        input[type="text"], textarea, input[type="date"] {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            box-sizing: border-box;
        }
        textarea {
            height: 100px;
        }
        .btn {
            padding: 10px 15px;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
        }
        .btn-reset {
            background-color: transparent;
            color: #007BFF;
            cursor: pointer;
        }
        .btn-next {
            float: right;
            margin-top: 20px;
        }
    </style>
    <script>
        function toggleProjectDetails() {
            document.getElementById('project-details').style.display = 'block';
        }

        function toggleSelection(option) {
            if (option === 'existing') {
                document.getElementById('new-project-form').style.display = 'none';
                document.getElementById('existing-project').style.display = 'block';
            } else {
                document.getElementById('existing-project').style.display = 'none';
                document.getElementById('new-project-form').style.display = 'block';
            }
        }
    </script>
</head>
<body>

<div class="container">
    <h1>Request Sample</h1>
    <h4><b>Step 1:</b> For what Research Project is this sample request?</h4>

    <div class="option">
        <label>
            <input type="radio" name="project" onclick="toggleSelection('existing')">
            Select Research Project
        </label>

        <!-- Projects List, hidden by default, will show when "Select Research Project" is selected -->
        <div id="existing-project" class="projects-container" style="display:none;">
            <label>
                <input type="radio" name="existing-project" onclick="toggleProjectDetails()">
                Project ID 1 <span class="underline-link" onclick="toggleProjectDetails()">View details</span>
            </label>

            <!-- Project details will appear here -->
            <div id="project-details" class="project-details">
                <h3>Research Project Details</h3>
                <p><strong>Research Project ID:</strong> 000001</p>
                <p><strong>Title:</strong> Genetic Factors Contributing to Early-Onset Parkinson's Disease in Filipinos</p>
                <p><strong>Principal Investigator:</strong> Juan Dela Cruz</p>
                <p><strong>Description:</strong> This study aims to identify and analyze genetic mutations associated with early-onset Parkinson’s disease (EOPD) in the Filipino population. Through the use of genetic sequencing and clinical data, we will investigate specific gene variants that contribute to the onset of Parkinson’s disease before the age of 50. By comparing the genetic profiles of affected individuals to those of healthy controls, the research seeks to uncover potential biomarkers and risk factors unique to Filipinos. The findings may contribute to early diagnosis, personalized treatments, and preventative strategies for EOPD in the Philippines.</p>
                <p><strong>Anticipated Initiation Date:</strong> 01-10-2024</p>
                <p><strong>Anticipated Completion Date:</strong> 31-03-2025</p>
                <p><strong>ERB #:</strong> UPMREB-2024-0645-01</p>
                <p><strong>Funding source:</strong> The National Institutes of Health (NIH), University of the Philippines Manila</p>
            </div>
        </div>
    </div>

    <div class="option">
        <label>
            <input type="radio" name="project" onclick="toggleSelection('new')">
            Create a Research Project entry
        </label>

        <!-- New Research Project Form -->
        <div id="new-project-form" class="new-project">
            <div class="form-group">
                <label for="project-id">Research Project ID: 00001</label>
            </div>
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title">
            </div>
            <div class="form-group">
                <label for="investigator">Principal Investigator:</label>
                <input type="text" id="investigator" name="investigator">
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description"></textarea>
                <small>Note: Should include the scientific background, rationale, study design/methods, and references.</small>
            </div>
            <div class="form-group">
                <label for="initiation-date">Anticipated Initiation Date:</label>
                <input type="date" id="initiation-date" name="initiation-date">
            </div>
            <div class="form-group">
                <label for="completion-date">Anticipated Completion Date:</label>
                <input type="date" id="completion-date" name="completion-date">
            </div>
            <div class="form-group">
                <label for="erb">ERB #:</label>
                <input type="text" id="erb" name="erb">
            </div>
            <div class="form-group">
                <label for="funding">Funding source:</label>
                <input type="text" id="funding" name="funding">
            </div>

            <!-- Save and Reset buttons -->
            <button class="btn" type="button">Save</button>
            <button class="btn-reset" type="button">Reset</button>
        </div>
    </div>

    <!-- Next button to go to step 2 -->
    <a href="{% url 'request_sample_step2' %}">
        <button class="btn btn-next" type="button">Next</button>
    </a>
</div>

<script>
    // Ensure project list only appears when "Select Research Project" is chosen
    function toggleSelection(option) {
        if (option === 'existing') {
            document.getElementById('new-project-form').style.display = 'none';
            document.getElementById('existing-project').style.display = 'block';
        } else {
            document.getElementById('existing-project').style.display = 'none';
            document.getElementById('new-project-form').style.display = 'block';
        }
    }
</script>

</body>
</html>


{% endblock %}
